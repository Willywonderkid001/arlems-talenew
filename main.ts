enum ActionKind {
    Walking,
    Idle,
    Jumping
}
namespace SpriteKind {
    export const teleporter = SpriteKind.create()
    export const teleporteur = SpriteKind.create()
    export const objectif = SpriteKind.create()
    export const enemy2 = SpriteKind.create()
    export const tuile = SpriteKind.create()
    export const object = SpriteKind.create()
    export const enemy3 = SpriteKind.create()
    export const cristalmagique = SpriteKind.create()
    export const boule = SpriteKind.create()
    export const mort = SpriteKind.create()
    export const champignon = SpriteKind.create()
    export const pierre = SpriteKind.create()
    export const enemy4 = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.tuile, function (sprite, otherSprite) {
    sprites.destroyAllSpritesOfKind(SpriteKind.tuile)
    tiles.setCurrentTilemap(tilemap`niveau23`)
    scene.cameraFollowSprite(Arlem)
    animation.runImageAnimation(
    Arlem,
    [img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........aaffafff..........................................
        ..........98ffdddf..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........aaffafff..........................................
        ..........98ffdddf..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffff..........................................
        ..........98ffafff..........................................
        ..........98ffafff..........................................
        ..........98ffafffa.........................................
        ..........98ffaffffa........................................
        ..........aaffaffffd........................................
        ..........98ffdddfd8........................................
        ..........98ffffff888.......................................
        ..........98ffffff.89.......................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffffa.........................................
        ..........98ffaffffa........................................
        ..........98ffafffffa.......................................
        ..........98ffaffffffa......................................
        ..........98ffafff.ffd......................................
        ..........aaffafff.dd8......................................
        ..........98ffdddf.8888.....................................
        ..........98ffffff..888.....................................
        ..........98ffffff...89.....................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffffa.........................................
        ..........98ffaffffa........................................
        ..........98ffafffffaad.....................................
        ..........98ffafffffffd8....................................
        ..........98ffafff.ffd888...................................
        ..........aaffafff.....888..................................
        ..........98ffdddf......89..................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffff..........................................
        ..........98ffafffffffd8....................................
        ..........98ffafffffffd8889.................................
        ..........98ffafffffffd88...................................
        ..........98ffafff..........................................
        ..........aaffafff..........................................
        ..........98ffdddf..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        .............eeeee..........................................
        ............22eeee..........................................
        ...........2222e2e..........................................
        ...........22222d22.........................................
        ...........a222d8d..........................................
        ...........a2ddddd..........................................
        ...........a2ddddd..........................................
        ...........affffff..........................................
        ..........aaffffff..........................................
        ..........aaffffff..........................................
        ..........98ffafffffffd8....................................
        ..........98ffafffffffd8889.................................
        ..........98ffafffffffd88...................................
        ..........98ffafff..........................................
        ..........aaffafff..........................................
        ..........98ffdddf..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........98ffffff..........................................
        ..........88.afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............afff...........................................
        .............1111...........................................
        `,img`
        ...........eeeee............................................
        ..........22eeee............................................
        .........2222e2e............................................
        .........22222d22...........................................
        .........a222d8d............................................
        .........a2ddddd............................................
        .........a2ddddd............................................
        .........affffff............................................
        ........aaffffff............................................
        ........aaffffff............................................
        ........98ffafffffffd8......................................
        ........98ffafffffffd88891..................................
        ........98ffafffffffd88.....................................
        ........98ffafff............................................
        ........aaffafff............................................
        ........98ffdddf............................................
        ........98ffffff............................................
        ........98ffffff............................................
        ........98ffffff............................................
        ........88fafff.............................................
        ........affafff.............................................
        .......afffafff.............................................
        ......affffafff.............................................
        ......ffff.afff.............................................
        ......1ff..afff.............................................
        .......11..1111.............................................
        `,img`
        ...........eeeee............................................
        ..........22eeee............................................
        .........2222e2e............................................
        .........22222d22...........................................
        .........a222d8d............................................
        .........a2ddddd............................................
        .........a2ddddd............................................
        .........affffff............................................
        ........aaffffff............................................
        ........aaffffff............................................
        ........98ffafffffffd8......................................
        ........98ffafffffffd88891..................................
        ........98ffafffffffd88.....................................
        ........98ffafff............................................
        ........aaffafff............................................
        ........98ffdddf............................................
        ........98ffffff............................................
        ........98ffffff............................................
        ........98ffffff............................................
        ........88fafff.............................................
        ........affafff.............................................
        .......afffafff.............................................
        ......affffafff.............................................
        ......ffff.afff.............................................
        ......1ff..afff.............................................
        .......11..1111.............................................
        `,img`
        ...........eeeee............................................
        ..........22eeee............................................
        .........2222e2e............................................
        .........22222d22...........................................
        .........a222d8d............................................
        .........a2ddddd............................................
        .........a2ddddd............................................
        .........affffff............................................
        ........aaffffff............................................
        ........aaffffff............................................
        ........98ffafffffffd8......................................
        ........98ffafffffffd88891..................................
        ........98ffafffffffd88.....................................
        ........98ffafff............................................
        ........aaffafff............................................
        ........98ffdddf............................................
        ........98ffffff............................................
        ........98ffffff............................................
        ........98ffffff............................................
        ........88fafff.............................................
        ........affafff.............................................
        .......afffafff.............................................
        ......affffafff.............................................
        ......ffff.afff.............................................
        ......1ff..afff.............................................
        .......11..1111.............................................
        `,img`
        .........eeeee..............................................
        ........22eeee..............................................
        .......2222e2e..............................................
        .......22222d22.............................................
        .......a222d8d..............................................
        .......a2ddddd..............................................
        .......a2ddddd..............................................
        .......affffff..........1111................................
        ......aaffffff........111111................................
        ......aaffffff............111...............................
        ......98ffafffffffdf........................................
        ......98ffafffffffd8889.....................................
        ......98ffafffffffd88.......................................
        ......98ffafff............111...............................
        ......aaffafff........111111................................
        ......98ffdddf..........1111................................
        ......98ffffff..............................................
        ......98ffffff..............................................
        ......98ffffff..............................................
        ......88fafff...............................................
        ......affafff...............................................
        .....afffafff...............................................
        ....affffafff...............................................
        ....ffff.afff...............................................
        ....1ff..afff...............................................
        .....11..1111...............................................
        `,img`
        .........eeeee..............................................
        ........22eeee..............................................
        .......2222e2e..............................................
        .......22222d22.............................................
        .......a222d8d..............................................
        .......a2ddddd..............................................
        .......a2ddddd..............................................
        .......affffff..........1111................................
        ......aaffffff........111111................................
        ......aaffffff............111...............................
        ......98ffafffffffdf........................................
        ......98ffafffffffd8889.....................................
        ......98ffafffffffd88.......................................
        ......98ffafff............111...............................
        ......aaffafff........111111................................
        ......98ffdddf..........1111................................
        ......98ffffff..............................................
        ......98ffffff..............................................
        ......98ffffff..............................................
        ......88fafff...............................................
        ......affafff...............................................
        .....afffafff...............................................
        ....affffafff...............................................
        ....ffff.afff...............................................
        ....1ff..afff...............................................
        .....11..1111...............................................
        `,img`
        .........eeeee..............................................
        ........22eeee..............................................
        .......2222e2e..............................................
        .......22222d22.............................................
        .......a222d8d..............................................
        .......a2ddddd..............................................
        .......a2ddddd..............................................
        .......affffff..........1111................................
        ......aaffffff........111111................................
        ......aaffffff............111...............................
        ......98ffafffffffdf........................................
        ......98ffafffffffd8889.....................................
        ......98ffafffffffd88.......................................
        ......98ffafff............111...............................
        ......aaffafff........111111................................
        ......98ffdddf..........1111................................
        ......98ffffff..............................................
        ......98ffffff..............................................
        ......98ffffff..............................................
        ......88fafff...............................................
        ......affafff...............................................
        .....afffafff...............................................
        ....affffafff...............................................
        ....ffff.afff...............................................
        ....1ff..afff...............................................
        .....11..1111...............................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e..................................................
        ...22222d22.................................................
        ...a222d8d...........11111..................................
        ...a2ddddd...............11.................................
        ...a2ddddd................11................................
        ...affffff..........1111...11...............................
        ..aaffffff........111111....1...............................
        ..aaffffff............111...1...............................
        ..98ffafffffffdf............................................
        ..98ffafffffffd8f89.....11111...............................
        ..98ffafffffffd88...........................................
        ..98ffafff............111...1...............................
        ..aaffafff........111111....1...............................
        ..98ffdddf..........1111...11...............................
        ..98ffffff................11................................
        ..98ffffff...............11.................................
        ..98ffffff...........11111..................................
        ..88fafff...................................................
        ..affafff...................................................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e..................................................
        ...22222d22.................................................
        ...a222d8d............11111.................................
        ...a2ddddd................11................................
        ...a2ddddd.................11...............................
        ...affffff...........1111...11..............................
        ..aaffffff.........111111....1..............................
        ..aaffffff.............111...1..............................
        ..98ffafffffffdf............................................
        ..98ffafffffffd8f89......11111..............................
        ..98ffafffffffd88...........................................
        ..98ffafff.............111...1..............................
        ..aaffafff.........111111....1..............................
        ..98ffdddf...........1111...11..............................
        ..98ffffff.................11...............................
        ..98ffffff................11................................
        ..98ffffff............11111.................................
        ..88fafff...................................................
        ..affafff...................................................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e.............11111................................
        ...22222d22............111111...............................
        ...a222d8d.................111..............................
        ...a2ddddd..................111.............................
        ...a2ddddd.............1111..111............................
        ...affffff...........111111...11............................
        ..aaffffff...........1111111..111...........................
        ..aaffffff.............111111..11...........................
        ..98ffafffffffdf............................................
        ..98ffafffffffd8ff9........11111............................
        ..98ffafffffffd88...........................................
        ..98ffafff.............111111..11...........................
        ..aaffafff...........1111111..111...........................
        ..98ffdddf...........111111...11............................
        ..98ffffff.............1111..111............................
        ..98ffffff..................111.............................
        ..98ffffff.................111..............................
        ..88fafff..............111111...............................
        ..affafff..............11111................................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e..............11111...............................
        ...22222d22.............111111..............................
        ...a222d8d..................111.............................
        ...a2ddddd...................111............................
        ...a2ddddd..............1111..111...........................
        ...affffff............111111...11...........................
        ..aaffffff............1111111..111..........................
        ..aaffffff..............111111..11..........................
        ..98ffafffffffdf............................................
        ..98ffafffffffd8ff9.........11111...........................
        ..98ffafffffffd88...........................................
        ..98ffafff..............111111..11..........................
        ..aaffafff............1111111..111..........................
        ..98ffdddf............111111...11...........................
        ..98ffffff..............1111..111...........................
        ..98ffffff...................111............................
        ..98ffffff..................111.............................
        ..88fafff...............111111..............................
        ..affafff...............11111...............................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e...............11111..............................
        ...22222d22..............111111.............................
        ...a222d8d...................111............................
        ...a2ddddd....................111...........................
        ...a2ddddd...............1111..111..........................
        ...affffff.............111111...11..........................
        ..aaffffff.............1111111..111.........................
        ..aaffffff...............111111..11.........................
        ..98ffafffffffdf............................................
        ..98ffafffffffd8ff9..........11111..........................
        ..98ffafffffffdf8...........................................
        ..98ffafff...............111111..11.........................
        ..aaffafff.............1111111..111.........................
        ..98ffdddf.............111111...11..........................
        ..98ffffff...............1111..111..........................
        ..98ffffff....................111...........................
        ..98ffffff...................111............................
        ..88fafff................111111.............................
        ..affafff................11111..............................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e.................11111............................
        ...22222d22................111111...........................
        ...a222d8d.....................111..........................
        ...a2ddddd......................111.........................
        ...a2ddddd.................1111..111........................
        ...affffff...............111111...11........................
        ..aaffffff...............1111111..111.......................
        ..aaffffff.................111111..11.......................
        ..98ffafffffffdf............................................
        ..98ffafffffffd8ff9............11111........................
        ..98ffafffffffdf8...........................................
        ..98ffafff.................111111..11.......................
        ..aaffafff...............1111111..111.......................
        ..98ffdddf...............111111...11........................
        ..98ffffff.................1111..111........................
        ..98ffffff......................111.........................
        ..98ffffff.....................111..........................
        ..88fafff..................111111...........................
        ..affafff..................11111............................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e...................11111..........................
        ...22222d22..................111111.........................
        ...a222d8d.......................111........................
        ...a2ddddd........................111.......................
        ...a2ddddd...................1111..111......................
        ...affffff.................111111...11......................
        ..aaffffff.......8.........1111111..111.....................
        ..aaffffff......8.8..........111111..11.....................
        ..98ffafffffffdf....8.......................................
        ..98ffafffffffdffff..8...........11111......................
        ..98ffafffffffdff...8.......................................
        ..98ffafff......8.8..........111111..11.....................
        ..aaffafff.......8.........1111111..111.....................
        ..98ffdddf.................111111...11......................
        ..98ffffff...................1111..111......................
        ..98ffffff........................111.......................
        ..98ffffff.......................111........................
        ..88fafff....................111111.........................
        ..affafff....................11111..........................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e.....................11111........................
        ...22222d22....................111111.......................
        ...a222d8d.........................111......................
        ...a2ddddd..........................111.....................
        ...a2ddddd......888............1111..111....................
        ...affffff.....8...8.........111111...11....................
        ..aaffffff....8..8..8f.......1111111..111...................
        ..aaffffff......8.8..98........111111..11...................
        ..98ffafffff...ff...8..8....................................
        ..98ffafffffffd......8.8...........11111....................
        ..98ffafffffffd.....8..8....................................
        ..98ffafff...d..8f8...8........111111..11...................
        ..aaffafff....8..f..8........1111111..111...................
        ..98ffdddf.....8...8.........111111...11....................
        ..98ffffff......888............1111..111....................
        ..98ffffff..........................111.....................
        ..98ffffff.........................111......................
        ..88fafff......................111111.......................
        ..affafff......................11111........................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e........................11111.....................
        ...22222d22.......................111111....................
        ...a222d8d............................111...................
        ...a2ddddd......888....................111..................
        ...a2ddddd....f8...8..............1111..111.................
        ...affffff....8.....8..8........111111...11.................
        ..aaffffff.......8......8.......1111111..111................
        ..aaffffff......8.8..8f9.8........111111..11................
        ..98ffafffff..........8..8..................................
        ..98ffafffffffd.......8..8............11111.................
        ..98ffafffffffd.......8..8..................................
        ..98ffafff...d..8.8..8...8........111111..11................
        ..aaffafff......f8......8.......1111111..111................
        ..98ffdddf....8.....8..8........111111...11.................
        ..98ffffff.....8...8..............1111..111.................
        ..98ffffff......888....................111..................
        ..98ffffff............................111...................
        ..88fafff.........................111111....................
        ..affafff.........................11111.....................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e..........................11111...................
        ...22222d22.........................111111..................
        ...a222d8d..............................111.................
        ...a2ddddd......888......................111................
        ...a2ddddd....f8...8................1111..111...............
        ...affffff....8.....8..8..........111111...11...............
        ..aaffffff.......8......8.........1111111..111..............
        ..aaffffff......8.8..8f9.8..........111111..11..............
        ..98ffafffff..........8..8..................................
        ..98ffafffffffd.......8..8..............11111...............
        ..98ffafffffffd.......8..8..................................
        ..98ffafff...d..8.8..8...8..........111111..11..............
        ..aaffafff......f8......8.........1111111..111..............
        ..98ffdddf....8.....8..8..........111111...11...............
        ..98ffffff.....8...8................1111..111...............
        ..98ffffff......888......................111................
        ..98ffffff..............................111.................
        ..88fafff...........................111111..................
        ..affafff...........................11111...................
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e..............................11111...............
        ...22222d22.............................111111..............
        ...a222d8d......888.........................111.............
        ...a2ddddd....f8...8.........................111............
        ...a2ddddd....8.....8...................1111..111...........
        ...affffff.......8....................111111...11...........
        ..aaffffff......8.8.....8.............1111111..111..........
        ..aaffffff...............8..............111111..11..........
        ..98ffafffff.....88...8f9.8.................................
        ..98ffafffffffd.8..8...8..8.................11111...........
        ..98ffafffffffd........8..8.................................
        ..98ffafff...d..8..8...8..8.............111111..11..........
        ..aaffafff.......88...8...8...........1111111..111..........
        ..98ffdddf...............8............111111...11...........
        ..98ffffff......8.8.....8...............1111..111...........
        ..98ffffff......f8...........................111............
        ..98ffffff....8.....8.......................111.............
        ..88fafff......8...8....................111111..............
        ..affafff.......888.....................11111...............
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `,img`
        .....eeeee..................................................
        ....22eeee..................................................
        ...2222e2e...............................11111..............
        ...22222d22.....888......................111111.............
        ...a222d8d....f8...8.........................111............
        ...a2ddddd....8.....8.........................111...........
        ...a2ddddd.......8.......................1111..111..........
        ...affffff......8.8....................111111...11..........
        ..aaffffff...............8.............1111111..111.........
        ..aaffffff......88..8.....8..............111111..11.........
        ..98ffafffff...8..8..8.8f9.8................................
        ..98ffafffffffd......8..8..8.................11111..........
        ..98ffafffffffd......8..8..8................................
        ..98ffafff...d.8..8..8..8..8.............111111..11.........
        ..aaffafff......88..8..8...8...........1111111..111.........
        ..98ffdddf................8............111111...11..........
        ..98ffffff......8.8......8...............1111..111..........
        ..98ffffff......f8............................111...........
        ..98ffffff....8.....8........................111............
        ..88fafff......8...8.....................111111.............
        ..affafff.......888......................11111..............
        .afffafff...................................................
        affffafff...................................................
        afff.afff...................................................
        1ff..afff...................................................
        .11..1111...................................................
        `],
    100,
    false
    )
    controller.startLightPulse(0xffffff, 2000)
    sprites.destroyAllSpritesOfKind(SpriteKind.enemy4)
    game.showLongText("ummmmmm c'était bizarrement facile", DialogLayout.Bottom)
    game.showLongText("bon je vais pas m'en plaindre", DialogLayout.Bottom)
    tiles.setCurrentTilemap(tilemap`niveau16`)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.teleporteur, function (sprite, otherSprite) {
    sprites.destroy(mySprite3)
    game.showLongText("Zarlenem tu-es ou bon sens", DialogLayout.Full)
    tiles.setCurrentTilemap(tilemap`niveau4`)
    sprites.destroyAllSpritesOfKind(SpriteKind.object)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(2, 2))
    Zarlenem = sprites.create(img`
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ......aaaa........................
        ......faaaa.......................
        ......ffffaa......................
        ..222.fffffaa.....................
        .22222ffffffaa....................
        .22222ffffffaaaaaaaaaaaaaa........
        .22222fffffffffffffffffffaa.......
        .22222dfffffffffffffffffffa.......
        222222dfffffffffffffffffffa.......
        222222dfffffffffffffffffffafaaaaa1
        222ddddfffffffffffffffffffaffffff1
        .22...fffafffffaffffffffffaffffff1
        ......fffafffffaffffffffffaffffff1
        ......fffa..fffa......ffffa.......
        ......fffa..fffa......ffffaaaaaaa1
        ......fffa..dddd......fffffffffff1
        ......dddd..dddd......fffffffffff1
        ......dddd.............ffffffffff1
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        `, SpriteKind.enemy2)
    tiles.placeOnTile(Zarlenem, tiles.getTileLocation(29, 31))
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.boule, function (sprite, otherSprite) {
    controller.startLightPulse(0xff0000, 500)
    info.changeLifeBy(-1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.champignon, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    pause(1000)
    info.changeLifeBy(-1)
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    animation.stopAnimation(animation.AnimationTypes.All, Arlem)
    Arlem.setImage(img`
        . . . . e e e e e . . 
        . . . 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . 2 2 2 2 2 d 2 2 . 
        . . a 2 2 2 d 8 d . . 
        . . a 2 d d d d d . . 
        . . a 2 d d d d d . . 
        . . a f f f f f f . . 
        . a a f f f f f f . . 
        . a a f f f f f f . . 
        . 9 8 f f a f f f . . 
        . 9 8 f f a f f f . . 
        . 9 8 f f a f f f . . 
        . 9 8 f f a f f f . . 
        . a a f f a f f f . . 
        . 9 8 f f d d d f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 8 8 . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . 1 1 1 1 . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.floorDark0, function (sprite, location) {
    scene.cameraShake(10, 1000)
    controller.startLightPulse(0xff0000, 1000)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(13, 6))
    tiles.placeOnTile(Zarlenem_infecté, tiles.getTileLocation(1, 1))
    scene.cameraShake(10, 1000)
    tiles.setCurrentTilemap(tilemap`niveau22`)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemy2, function (sprite, otherSprite) {
    sprites.destroy(mySprite4)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(24, 31))
    scene.cameraFollowSprite(Zarlenem)
    game.showLongText("vaaaaaaaaaa tttttt'eeeeennnnn aaaaahhhhhhhhhhhhhhhhhhhhh", DialogLayout.Top)
    Zarlenem.setImage(img`
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ......aaaa........................
        ......faaaa.......................
        ......ffffaa......................
        ..222.fffffaa.....................
        .22222ffffffaa....................
        .22222ffffffaaaaaaaaaaaaaa........
        .22222fffffffffffffffffffaa.......
        .22222dfffffffffffffffffffa.......
        222222dfffffffffffffffffffa.......
        222222dfffffffffffffffffffafaaaaa1
        222ddddfffffffffffffffffffaffffff1
        .22...fffafffffaffffffffffaffffff1
        ......fffafffffaffffffffffaffffff1
        ......fffa..fffa......ffffa.......
        ......fffa..fffa......ffffaaaaaaa1
        ......fffa..dddd......fffffffffff1
        ......dddd..dddd......fffffffffff1
        ......dddd.............ffffffffff1
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        `)
    game.showLongText("Qu'est-ce qui ce passe!", DialogLayout.Top)
    game.showLongText("Zarlenem!!", DialogLayout.Top)
    Zarlenem.setImage(img`
        ..................................
        .............eee..................
        ............e222eee...............
        ............2222222e..............
        .............d22222e..............
        .............d22222e..............
        .............d22222e..............
        .............dddddd...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fdddfa...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        ..............ffffafaaaa1.........
        ..............ffffafffff1.........
        ..............ffffafffff1.........
        ..............ffffafffff1.........
        ..............ffffa...............
        ..............ffffaaaaaa1.........
        ..............ffffffffff1.........
        ..............ffffffffff1.........
        ...............fffffffff1.........
        ..................................
        `)
    game.showLongText("euh Zarlenem?", DialogLayout.Top)
    Zarlenem.setImage(img`
        ..................................
        .............eee..................
        ............e222eee...............
        ............2222222e..............
        .............d22222e..............
        .............d22222e..............
        .............d22222e..............
        .............dddddd...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fdddfa...............
        .........fffffffffa...............
        ........ffffffffffa...............
        ........ffffffffffa...............
        ........ffffffffffa...............
        ........ffffffffffffaaaa1.........
        ........ffff..ffffffffff1.........
        ........ffff..ffffffffff1.........
        ........ffff..ffffffffff1.........
        ........1111...fffffffff1.........
        ..................................
        ..................................
        ..................................
        ..................................
        ..................................
        `)
    game.showLongText("Qu'est-ce qu t'arrive", DialogLayout.Top)
    Zarlenem.setImage(img`
        ..................................
        .............eee..................
        ............e222eee...............
        ............2222222e..............
        .............d22222e..............
        .............d22222e..............
        .............d22222e..............
        .............dddddd...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fffafa...............
        .............fdddfa...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        .............fffffa...............
        ..............fffa................
        ..............fffa................
        ..............fffa................
        ..............fffa................
        ..............fffa................
        ..............fffa................
        ..............fffa................
        ..............1111................
        ..................................
        ..................................
        `)
    game.showLongText("répond moi bon sens!", DialogLayout.Top)
    Zarlenem.setImage(img`
        ........eeee...
        ...e8e8ee88e8..
        ...ee8ee8ee8e..
        ...8ee88eeeee..
        ...ee88d669e...
        ...ec99d696e...
        ...e8ddddd66...
        ...8edcddd6e...
        ..8fccffff66...
        ..fffccccf6ff..
        .fffffcfff6fff.
        fffffffcf66ffff
        9ffffffcffff66f
        9999fcffccfff6f
        fff9fcfffcffff6
        ffffccfffcfffff
        ffffcfffff88ff6
        ffffccfffff88ff
        ffffffccfff8fff
        fffffffc8888fff
        989ffff88fffddd
        ...fff88f66f...
        ...ff88fff6f...
        ...ff8ffff6f...
        ...f88...f6f...
        ...f8f...66f...
        ...fff...66f...
        ...fff...f66...
        ...fff...ff6...
        ...fff...ff6...
        ...222...222...
        `)
    Zarlenem_infecté = sprites.create(img`
        ........eeee...
        ...e8e8ee88e8..
        ...ee8ee8ee8e..
        ...8ee88eeeee..
        ...ee88d669e...
        ...ec99d696e...
        ...e8ddddd66...
        ...8edcddd6e...
        ..8fccffff66...
        ..fffccccf6ff..
        .fffffcfff6fff.
        fffffffcf66ffff
        9ffffffcffff66f
        9999fcffccfff6f
        fff9fcfffcffff6
        ffffccfffcfffff
        ffffcfffff88ff6
        ffffccfffff88ff
        ffffffccfff8fff
        fffffffc8888fff
        989ffff88fffddd
        ...fff88f66f...
        ...ff88fff6f...
        ...ff8ffff6f...
        ...f88...f6f...
        ...f8f...66f...
        ...fff...66f...
        ...fff...f66...
        ...fff...ff6...
        ...fff...ff6...
        ...222...222...
        `, SpriteKind.enemy3)
    tiles.setCurrentTilemap(tilemap`niveau20`)
    tiles.placeOnTile(Zarlenem, tiles.getTileLocation(31, 30))
    scene.cameraFollowSprite(Arlem)
    controller.startLightPulse(0xffffff, 1000)
    scene.cameraShake(10, 1000)
    Zarlenem_infecté.follow(Arlem, 75)
    controller.moveSprite(Arlem, 125, 125)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.object, function (sprite, otherSprite) {
    tiles.setCurrentTilemap(tilemap`niveau16`)
    tiles.placeOnTile(Guardien_de_la_forêt, tiles.getTileLocation(30, 32))
    tuileverte = sprites.create(img`
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        `, SpriteKind.tuile)
    tuileverte2 = sprites.create(img`
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
        `, SpriteKind.tuile)
    tiles.placeOnTile(tuileverte, tiles.getTileLocation(29, 31))
    tiles.placeOnTile(tuileverte2, tiles.getTileLocation(29, 32))
    music.play(music.melodyPlayable(music.baDing), music.PlaybackMode.UntilDone)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Arlem,
    [img`
        ...................
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..dddffffffffffaff.
        .....ffffffffffddd.
        .....afff..faff889.
        .....aff....aff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....aff....
        .....aff....111....
        .....111...........
        `,img`
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..dddffffffffffaff.
        .....ffffffffffaff.
        .....ffffffffffddd.
        .....afffffffff889.
        .....afff..faff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....111....
        .....aff...........
        .....aff...........
        .....111...........
        `,img`
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..dddffffffffffaff.
        .....ffffffffffddd.
        .....afffffffff889.
        .....afff..faff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....aff....
        .....aff....aff....
        .....aff....111....
        .....111...........
        `,img`
        ...................
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..dddffffffffffddd.
        .....afff..faff889.
        .....aff....aff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....aff....
        .....aff....aff....
        .....111....111....
        `,img`
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffddd.
        ..dddffffffffff89..
        .....afffffffff889.
        .....afff..faff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....aff....
        .....aff....aff....
        .....111....aff....
        ............111....
        `,img`
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffddd.
        ..affffffffffff9...
        ..dddffffffffff89..
        .....afffffffff889.
        .....afff..faff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....111....aff....
        ............aff....
        ............aff....
        ............111....
        `,img`
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd....
        999aadddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffddd.
        ..dddffffffffff89..
        .....afffffffff889.
        .....afff..faff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....aff....
        .....111....aff....
        ............aff....
        ............111....
        `],
    110,
    controller.down.isPressed()
    )
})
controller.up.onEvent(ControllerButtonEvent.Released, function () {
    animation.stopAnimation(animation.AnimationTypes.All, Arlem)
    Arlem.setImage(img`
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889fffffffff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffaff.
        ..afffffff8889faff.
        ..dddffffff888addd.
        .....fffffff8aaaf..
        .....afff..ffaaa9..
        .....aff....afa889.
        .....aff....aff8889
        .....aff....aff.989
        .....aff....aff..99
        .....aff....aff....
        .....aff....aff....
        .....111....111....
        `)
})
info.onCountdownEnd(function () {
    point_faible_gardien = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . 4 4 . . . . . . . . . 5 4 . 
        . . 5 4 4 . . . . . . . 5 4 4 . 
        . . . 5 4 4 . . . . . 5 4 4 . . 
        . . . . 5 4 4 4 4 4 4 5 4 . . . 
        . . . . 4 5 4 4 4 4 4 4 4 . . . 
        . . . 4 5 4 4 4 4 4 4 4 4 . . . 
        . . . 4 5 4 4 4 4 4 4 4 4 . . . 
        . . . 4 5 4 4 4 4 4 4 4 4 . . . 
        . . . 4 5 4 4 4 4 4 4 4 . . . . 
        . . . . 4 4 4 4 4 4 4 . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.pierre)
    tiles.placeOnRandomTile(point_faible_gardien, sprites.dungeon.floorLight2)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.pierre, function (sprite, otherSprite) {
    tiles.setCurrentTilemap(tilemap`niveau23`)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(1, 1))
    tiles.placeOnTile(Zarlenem_infecté, tiles.getTileLocation(28, 22))
    scene.cameraFollowSprite(Zarlenem_infecté)
    game.showLongText("nooooooooooooooon! mon point faible!", DialogLayout.Full)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Arlem,
    [img`
        ...................
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffaff.
        ..dddfffff8889faff.
        .....ffffff888addd.
        .....afff..f8aaa...
        .....aff....faaa9..
        .....aff....afa889.
        .....aff....aff9889
        .....aff....aff.989
        .....aff....aff..99
        .....aff....111....
        .....111...........
        `,img`
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..dddffff8889ffaff.
        .....fffff8889faff.
        .....ffffff888addd.
        .....affffff8aaa...
        .....afff..ffaaa9..
        .....aff....afa889.
        .....aff....aff9889
        .....aff....aff.989
        .....aff....111..99
        .....aff...........
        .....aff...........
        .....111...........
        `,img`
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffaff.
        ..dddfffff8889faff.
        .....ffffff888addd.
        .....affffff8aaa...
        .....afff..ffaaa9..
        .....aff....afa889.
        .....aff....aff9889
        .....aff....aff.989
        .....aff....aff..99
        .....aff....aff....
        .....aff....111....
        .....111...........
        `,img`
        ...................
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffaff.
        ..afffffff8889faff.
        ..dddffffff888addd.
        .....afff..f8aaa...
        .....aff....faaa9..
        .....aff....afa8899
        .....aff....aff9889
        .....aff....aff.989
        .....aff....aff..9.
        .....aff....aff....
        .....111....111....
        `,img`
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffaff.
        ..afffffff8889fddd.
        ..dddffffff888a....
        .....affffff8aaa...
        .....afff..ffaaa9..
        .....aff....afa889.
        .....aff....aff9889
        .....aff....aff.989
        .....aff....aff..99
        .....aff....aff....
        .....111....aff....
        ............111....
        `,img`
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffddd.
        ..afffffff8889f....
        ..dddffffff888a....
        .....affffff8aaa...
        .....afff..ffaaa9..
        .....aff....afa889.
        .....aff....aff9889
        .....aff....aff.989
        .....111....aff..99
        ............aff....
        ............aff....
        ............111....
        `,img`
        ......22eeeee......
        .....222eeeeee.....
        ....2222eeeeeee....
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        ...22222eeeeeeee...
        999.22222eeeeee....
        969af22222eeeee....
        999aff222222eee....
        .aaaafffffffffff...
        ..faae9ffffffffff..
        ..ffe889ffffffffff.
        ..aff8889ffffffaff.
        ..afff8889fffffaff.
        ..affff8889ffffaff.
        ..afffff8889fffaff.
        ..affffff8889ffaff.
        ..afffffff8889fddd.
        ..dddffffff888a....
        .....affffff8aaa...
        .....afff..ffaaa9..
        .....aff....afa889.
        .....aff....aff9889
        .....aff....aff.989
        .....aff....aff..99
        .....aff....aff....
        .....111....aff....
        ............111....
        `],
    110,
    controller.up.isPressed()
    )
})
sprites.onDestroyed(SpriteKind.enemy4, function (sprite) {
    mySprite3 = sprites.create(img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................bbbbb...........
        ................bbbbb...........
        ................b9b9b...........
        .............88.bbbbb...........
        ............8998bbbbb...........
        ........c...8998bbbbbb..........
        ........c....8bb98bbbb9.........
        ........c....bbbbbabb9bb........
        ........c....bbbbbba9bbbb.......
        ........cccab..bbbbab8bbbccc....
        .......caccc9b...bbbbabbbcccc...
        .......accccabbb.bbbb8bbbcccc...
        .......caccababb.bbbb8bbbcccc...
        ........c9ac8bbb..8bbb8bb.9cc...
        .........cc.b8bbb.bbb8b8b.ca8c..
        .........8c.9bbbb.bbbbaba..ac8..
        .........9c8babbb..bab......a98.
        .....c8cc.bbbb88bbb..bb......89.
        .....cccc.bbb...bbb....b........
        .....cccc.abb8..bbb....b........
        .....ccc..bb8b..9b..b..bb.......
        ..........b9bbb.b9......b.......
        ..........bb9bb.bbbab...bb......
        `, SpriteKind.Player)
    tiles.placeOnTile(mySprite3, tiles.getTileLocation(32, 32))
    mySprite4 = sprites.create(img`
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        `, SpriteKind.teleporteur)
    tiles.placeOnTile(mySprite4, tiles.getTileLocation(31, 31))
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tilePath5, function (sprite, location) {
    sprites.destroyAllSpritesOfKind(SpriteKind.object)
    scene.cameraShake(10, 1000)
    controller.startLightPulse(0xff0000, 1000)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(16, 16))
    tiles.placeOnTile(Zarlenem_infecté, tiles.getTileLocation(27, 1))
    tiles.setCurrentTilemap(tilemap`niveau19`)
})
controller.down.onEvent(ControllerButtonEvent.Released, function () {
    animation.stopAnimation(animation.AnimationTypes.All, Arlem)
    Arlem.setImage(img`
        .......22eee.......
        .....2222eeeee.....
        ....22222eeeeee....
        ...222222222eeee...
        ...2222222dd22ee...
        ...222228dd88dee...
        ...222288dd88d2e...
        9992222dddddddd2...
        969a2dddddddddd2...
        999a.dddffffddd....
        .aaaadddddddddd....
        ..aaffffffffffff...
        ..affffffffffffff..
        ..ffffffffffffffff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..affffffffffffaff.
        ..dddffffffffffddd.
        .....afffffffff889.
        .....afff..faff8889
        .....aff....aff9889
        .....aff....aff.999
        .....aff....aff....
        .....aff....aff....
        .....aff....aff....
        .....aff....aff....
        .....111....111....
        `)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Arlem,
    [img`
        . . . . . . . . . . . 
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f f a f . . 
        . 9 8 f f f f a f . . 
        . a a f f f f f a . . 
        . 9 8 f f f f f d . . 
        . 9 8 f f f d d f . . 
        . 9 8 f f f f f a . . 
        . 9 8 f f f f f f a . 
        . 8 8 f f a f f f a . 
        . . . f f a f f f a . 
        . . . f f a . f f a . 
        . . . f f a . f f a . 
        . . . f f a . 1 1 1 . 
        . . . 1 1 1 . . . . . 
        . . . . . . . . . . . 
        . . . . . . . . . . . 
        `,img`
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f a f . . 
        . 9 8 f f f f f a . . 
        . 9 8 f f f f f a . . 
        . 9 8 f f f f f f a . 
        . a a f f f f f f d . 
        . 9 8 f f f f d d . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f a . 
        . 9 8 f f f f f f f a 
        . 8 8 f f f f f f f a 
        . . . f f f f . f f a 
        . . f f f f . . f f a 
        . . f f f f . . 1 1 1 
        . . f f f . . . . . . 
        . . 1 1 1 . . . . . . 
        . . . . . . . . . . . 
        . . . . . . . . . . . 
        `,img`
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f f a f . . 
        . 9 8 f f f f a f . . 
        . a a f f f f f a . . 
        . 9 8 f f f f f d . . 
        . 9 8 f f f d d f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f a . . 
        . 9 8 f f f f f f a . 
        . 8 8 f f a f f f a . 
        . . . f f a f f f a . 
        . . . f f a . f f a . 
        . . . f f a . f f a . 
        . . . f f a . 1 1 1 . 
        . . . 1 1 1 . . . . . 
        . . . . . . . . . . . 
        . . . . . . . . . . . 
        `,img`
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f d d d f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 8 8 . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . 1 1 1 1 . . . 
        . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . 
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f a f f . . 
        . a a f f a f f f . . 
        . 9 8 d f a f f f . . 
        . 9 8 f d d f f f . . 
        . 9 8 f f f f f a . . 
        . 9 8 f f f f f f a . 
        . 8 8 f f a f f f a . 
        . . . f f a f f f a . 
        . . . f f a . f f a . 
        . . . f f a . f f a . 
        . . . f f a . 1 1 1 . 
        . . . 1 1 1 . . . . . 
        . . . . . . . . . . . 
        . . . . . . . . . . . 
        `,img`
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f a f f f . . 
        . a d f f a f f f . . 
        . 9 8 d d f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f a . 
        . 9 8 f f f f f f f a 
        . 8 8 f f f f f f f a 
        . . . f f f f . f f a 
        . . f f f f . . f f a 
        . . f f f f . . 1 1 1 
        . . f f f . . . . . . 
        . . 1 1 1 . . . . . . 
        . . . . . . . . . . . 
        . . . . . . . . . . . 
        `,img`
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f a f f . . 
        . 9 8 f f f a f f . . 
        . a a f f a f f f . . 
        . 9 8 d f a f f f . . 
        . 9 8 f d d f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f a . . 
        . 9 8 f f f f f f a . 
        . 8 8 f f a f f f a . 
        . . . f f a f f f a . 
        . . . f f a . f f a . 
        . . . f f a . f f a . 
        . . . f f a . 1 1 1 . 
        . . . 1 1 1 . . . . . 
        . . . . . . . . . . . 
        . . . . . . . . . . . 
        `,img`
        . . . 2 e e e e . . . 
        . . 2 2 2 e e e e . . 
        . . 2 2 2 2 e 2 e . . 
        . . a 2 2 2 2 d 2 2 . 
        . . a 2 2 d d 8 d . . 
        . . a 2 d d d d d . . 
        . a a 2 d d d d d . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . a a f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f d d d f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 9 8 f f f f f f . . 
        . 8 8 . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . f f f f . . . 
        . . . . 1 1 1 1 . . . 
        . . . . . . . . . . . 
        `],
    110,
    controller.right.isPressed()
    )
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile2`, function (sprite, location) {
    game.showLongText("ah te voici Zarlenem", DialogLayout.Top)
    game.showLongText("mon frère que fais-tu ici je te cherchais", DialogLayout.Top)
    tiles.setCurrentTilemap(tilemap`niveau6`)
    tiles.placeOnTile(Zarlenem, tiles.getTileLocation(29, 31))
})
info.onLifeZero(function () {
    game.gameOver(false)
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    animation.stopAnimation(animation.AnimationTypes.All, Arlem)
    Arlem.setImage(img`
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . f a f f f f a a . 
        . . f a f f f f 8 9 . 
        . . f d d d f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . . f f f f . 8 8 . 
        . . . f f f f . . . . 
        . . . f f f f . . . . 
        . . . f f f f . . . . 
        . . . f f f f . . . . 
        . . . f f f f . . . . 
        . . . 1 1 1 1 . . . . 
        `)
})
controller.anyButton.onEvent(ControllerButtonEvent.Released, function () {
    animation.stopAnimation(animation.AnimationTypes.All, Arlem)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemy3, function (sprite, otherSprite) {
    controller.startLightPulse(0xff0000, 500)
    info.changeLifeBy(-1)
    Zarlenem_infecté.follow(Arlem, 0)
    pause(1000)
    Zarlenem_infecté.follow(Arlem, 75)
    pause(500)
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.rock2, function (sprite, location) {
    scene.cameraShake(10, 1000)
    controller.startLightPulse(0xff0000, 1000)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(19, 1))
    tiles.placeOnTile(Zarlenem_infecté, tiles.getTileLocation(38, 1))
    scene.cameraShake(10, 1000)
    tiles.setCurrentTilemap(tilemap`niveau27`)
    cristal2 = sprites.create(img`
        . . . . . . . . . . . 5 . . . . 
        . . . . . . . . . . 5 . . . . . 
        . . . . 5 . . . 4 . . . . . . . 
        . . . . . 5 . 4 5 4 . . . 5 . . 
        . . . . . 5 . 4 5 4 . . 5 5 . . 
        . . . . . . 4 5 5 4 4 . 5 . . . 
        5 5 . . . . 4 5 4 4 4 . . . . . 
        . 5 5 . . . 4 5 4 4 4 . . . 5 5 
        . . . . . . 4 5 4 4 4 . . 5 5 . 
        . . 4 4 . . 4 5 4 4 4 . . . . . 
        . . 4 5 4 . 4 5 4 4 4 . . 4 4 . 
        . . 4 4 5 4 4 5 4 4 4 . 4 5 4 . 
        . . . 4 4 5 4 5 4 4 4 4 5 4 4 . 
        . . . 4 4 4 4 5 4 4 4 5 4 4 . . 
        . . . . . 4 4 5 4 4 4 4 4 . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.cristalmagique)
    tiles.placeOnRandomTile(cristal2, assets.tile`myTile`)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Arlem,
    [img`
        . . . . . . . . . . . 
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . a f f f f f a a . 
        . . d f f f f f 8 9 . 
        . . f d d f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . a a f f f f f 8 9 . 
        . a f f f a f f 8 8 . 
        . a f f f a f f . . . 
        . a f f . a f f . . . 
        . a f f . a f f . . . 
        . 1 1 1 . a f f . . . 
        . . . . . 1 1 1 . . . 
        . . . . . . . . . . . 
        `,img`
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . a f f f f f 8 9 . 
        . . a f f f f f 8 9 . 
        . a f f f f f f 8 9 . 
        . d f f f f f f a a . 
        . . d d f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . a f f f f f f 8 9 . 
        a f f f f f f f 8 9 . 
        a f f f f f f f 8 8 . 
        a f f . f f f f . . . 
        a f f . . f f f f . . 
        1 1 1 . . f f f f . . 
        . . . . . . f f f . . 
        . . . . . . 1 1 1 . . 
        . . . . . . . . . . . 
        `,img`
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . f a f f f f 8 9 . 
        . . a f f f f f a a . 
        . . d f f f f f 8 9 . 
        . . f d d f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . a f f f f f 8 9 . 
        . a f f f f f f 8 9 . 
        . a f f f a f f 8 8 . 
        . a f f f a f f . . . 
        . a f f . a f f . . . 
        . a f f . a f f . . . 
        . 1 1 1 . a f f . . . 
        . . . . . 1 1 1 . . . 
        . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . 
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f d d d f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 8 . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . 1 1 1 1 . . . . 
        `,img`
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f f a f f a a . 
        . . f f f a f d 8 9 . 
        . . f f f d d f 8 9 . 
        . . f f f f f f 8 9 . 
        . . a f f f f f 8 9 . 
        . a f f f f f f 8 9 . 
        . a f f f a f f 8 8 . 
        . a f f f a f f . . . 
        . a f f . a f f . . . 
        . a f f . a f f . . . 
        . 1 1 1 . a f f . . . 
        . . . . . 1 1 1 . . . 
        . . . . . . . . . . . 
        `,img`
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f f a f f 8 9 . 
        . . f f f a f f d a . 
        . . f f f f d d 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . a f f f f f f 8 9 . 
        a f f f f f f f 8 9 . 
        a f f f f f f f 8 8 . 
        a f f . f f f f . . . 
        a f f . . f f f f . . 
        1 1 1 . . f f f f . . 
        . . . . . . f f f . . 
        . . . . . . 1 1 1 . . 
        . . . . . . . . . . . 
        `,img`
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f a f f f 8 9 . 
        . . f f f a f f a a . 
        . . f f f a f d 8 9 . 
        . . f f f d d f 8 9 . 
        . . f f f f f f 8 9 . 
        . . a f f f f f 8 9 . 
        . a f f f f f f 8 9 . 
        . a f f f a f f 8 8 . 
        . a f f f a f f . . . 
        . a f f . a f f . . . 
        . a f f . a f f . . . 
        . 1 1 1 . a f f . . . 
        . . . . . 1 1 1 . . . 
        . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . 
        . . . e e e e 2 . . . 
        . . e e e e 2 2 2 . . 
        . . e 2 e 2 2 2 2 . . 
        . 2 2 d 2 2 2 2 a . . 
        . . d 8 d d 2 2 a . . 
        . . d d d d d 2 a . . 
        . . d d d d d 2 a a . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f a a . 
        . . f f f f f f 8 9 . 
        . . f d d d f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 9 . 
        . . f f f f f f 8 8 . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . a f f f . . . . 
        . . . 1 1 1 1 . . . . 
        `],
    110,
    controller.left.isPressed()
    )
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    tiles.setCurrentTilemap(tilemap`niveau3`)
    tiles.placeOnRandomTile(champignon_cracheur_de_spore, sprites.castle.tileDarkGrass1)
    tiles.placeOnRandomTile(champignon_cracheur_de_spore2, sprites.castle.tileDarkGrass1)
    tiles.placeOnRandomTile(champignon_cracheur_de_spore3, sprites.castle.tileDarkGrass1)
    tiles.placeOnRandomTile(champignon_cracheur_de_spore4, sprites.castle.tileDarkGrass1)
    tiles.placeOnRandomTile(champignon_cracheur_de_spore5, sprites.castle.tileDarkGrass1)
    scene.cameraShake(10, 2000)
    game.showLongText("Vous ressentez une force inconnue qui semble modifier la carte ", DialogLayout.Bottom)
    game.showLongText("Trouve le cristal du vent", DialogLayout.Bottom)
    game.showLongText("puis grâce à sa poussière", DialogLayout.Bottom)
    game.showLongText("dégage le gardien du passage", DialogLayout.Bottom)
    cristal = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . 8 9 8 . . . . . . 
        . . . . . . . 8 9 8 . . . . . . 
        . . . . . . 8 9 9 8 8 . . . . . 
        . . . . . . 8 9 8 8 8 . . . . . 
        . . . . . . 8 9 8 8 8 . . . . . 
        . . . . . . 8 9 8 8 8 . . . . . 
        . . 8 8 . . 8 9 8 8 8 . . . . . 
        . . 8 9 8 . 8 9 8 8 8 . . 8 8 . 
        . . 8 8 9 8 8 9 8 8 8 . 8 9 8 . 
        . . . 8 8 9 8 9 8 8 8 8 9 8 8 . 
        . . . 8 8 8 8 9 8 8 8 9 8 8 . . 
        . . . . . 8 8 9 8 8 8 8 8 . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.object)
    tiles.placeOnRandomTile(cristal, assets.tile`myTile0`)
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    Guardien_de_la_forêt = sprites.create(img`
        ................................
        ................................
        .............bbbbb..............
        .............bbbbb..............
        .............b9b9b..............
        ..........88.bbbbb..............
        .........8998bbbbb..............
        .........8998bbbbbb.............
        ..........8bb98bbbb9............
        ..........bbbbbabb9bb...........
        .........bbbbbbba9bbbb..........
        ......ccabbbbbbbab8bbbccc.......
        .....cccc9bbbbbbbbabbbcccc......
        .....ccccabbbbbbbb8bbbccccc.....
        ....cc8cababbbbbbb8bbbcccca9....
        ....c9cac8bbbbb8bbb8bb...c9c8...
        ....cc9c.b8bbbabbb8b8b....ca8c..
        ....c8cc.9bbbb9bbbbaba.....ac8..
        ....c9c8..bbbabbbbbba.......a98.
        ...cac8cc..bbb88bbbb.........89.
        ...accccc...b.....b.............
        ...cacccc..bb8...abb............
        ....cccc...b8b...bab............
        ...........9bb...b8b............
        ...........9ba...abb............
        ...........b9b...b8b............
        ..........babbb.b9bbb...........
        ..........bbbb8.bbbba...........
        ..........abbb8.bbb8b...........
        ..........bab9b.9bb8b...........
        ..........bb9bb.b99b8...........
        ..........bb9bb.bbbab...........
        `, SpriteKind.enemy4)
    tiles.placeOnTile(Guardien_de_la_forêt, tiles.getTileLocation(29, 31))
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.cristalmagique, function (sprite, otherSprite) {
    tiles.setCurrentTilemap(tilemap`niveau52`)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(5, 9))
    game.showLongText("bienvenue dans mon domaine", DialogLayout.Top)
    game.showLongText("comme tu peux le voir il a quelques tuile plus sombre", DialogLayout.Bottom)
    game.showLongText("si je serai toi je ni toucherai pas", DialogLayout.Bottom)
    game.showLongText("maintenant place au spectacle!", DialogLayout.Center)
    boule_mortel = sprites.create(img`
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . a 1 a 1 a 1 a . . . . 
        . . . a f f f f f f f a . . . 
        . . a f f a a a a a f f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f a a a a a a a f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f a a a a a a a f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f f a a a a a f f a . . 
        . . . a f f f f f f f a . . . 
        . . . . a 1 a 1 a 1 a . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        `, SpriteKind.boule)
    tiles.placeOnTile(Arlem, tiles.getTileLocation(15, 16))
    boule_mortel.setBounceOnWall(true)
    boule_mortel.setVelocity(50, 50)
    pause(20000)
    game.showLongText("pourquoi pas en ajouter!", DialogLayout.Top)
    boule_mortel2 = sprites.create(img`
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . a 1 a 1 a 1 a . . . . 
        . . . a f f f f f f f a . . . 
        . . a f f a a a a a f f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f a a a a a a a f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f a a a a a a a f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f f a a a a a f f a . . 
        . . . a f f f f f f f a . . . 
        . . . . a 1 a 1 a 1 a . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        `, SpriteKind.boule)
    tiles.placeOnTile(boule_mortel2, tiles.getTileLocation(2, 17))
    boule_mortel2.setBounceOnWall(true)
    boule_mortel.setVelocity(75, 75)
    info.startCountdown(65)
    pause(15000)
    game.showLongText("tu en veux encore? En voilà une autre!", DialogLayout.Bottom)
    boule_mortel3 = sprites.create(img`
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . a 1 a 1 a 1 a . . . . 
        . . . a f f f f f f f a . . . 
        . . a f f a a a a a f f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f a a a a a a a f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f a a a a a a a f a . . 
        1 1 1 f a 1 a 1 a 1 a f 1 1 1 
        . . a f f a a a a a f f a . . 
        . . . a f f f f f f f a . . . 
        . . . . a 1 a 1 a 1 a . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        . . . . . 1 . 1 . 1 . . . . . 
        `, SpriteKind.boule)
    tiles.placeOnTile(boule_mortel3, tiles.getTileLocation(2, 17))
    boule_mortel3.setBounceOnWall(true)
    boule_mortel3.setVelocity(90, 90)
    pause(30000)
})
let boule_mortel3: Sprite = null
let boule_mortel2: Sprite = null
let boule_mortel: Sprite = null
let cristal: Sprite = null
let cristal2: Sprite = null
let point_faible_gardien: Sprite = null
let tuileverte2: Sprite = null
let tuileverte: Sprite = null
let mySprite4: Sprite = null
let Zarlenem_infecté: Sprite = null
let Zarlenem: Sprite = null
let mySprite3: Sprite = null
let champignon_cracheur_de_spore5: Sprite = null
let champignon_cracheur_de_spore4: Sprite = null
let champignon_cracheur_de_spore3: Sprite = null
let champignon_cracheur_de_spore2: Sprite = null
let champignon_cracheur_de_spore: Sprite = null
let Guardien_de_la_forêt: Sprite = null
let Arlem: Sprite = null
tiles.setTilemap(tilemap`niveau1`)
music.play(music.createSong(assets.song`mySong`), music.PlaybackMode.LoopingInBackground)
Arlem = sprites.create(img`
    .......22eee.......
    .....2222eeeee.....
    ....22222eeeeee....
    ...222222222eeee...
    ...2222222dd22ee...
    ...222228dd88dee...
    ...222288dd88d2e...
    9992222ddddddddf...
    96922dddddddddd2...
    9992.dddffffddd....
    .2222dddddddddd....
    ..22ffffffffffff...
    ..2ffffffffffffff..
    ..ffffffffffffffff.
    ..ffffffffffffffff.
    ..afffffffffffffff.
    ..afffffffffffffff.
    ..afffffffffffffff.
    ..afffffffffffffff.
    ..aaffffffffffffff.
    ..dddffffffffffddd.
    .....afffffffff889.
    .....affb..baff8889
    .....aff....aff9889
    .....aff....aff.999
    .....aff....aff....
    .....aff....aff....
    .....aff....aff....
    .....aaa....aaf....
    .....111....111....
    `, SpriteKind.Player)
Guardien_de_la_forêt = sprites.create(img`
    ................................
    ................................
    .............bbbbb..............
    .............bbbbb..............
    .............b9b9b..............
    ..........88.bbbbb..............
    .........8998bbbbb..............
    .........8998bbbbbb.............
    ..........8bb98bbbb9............
    ..........bbbbbabb9bb...........
    .........bbbbbbba9bbbb..........
    ......ccabbbbbbbab8bbbccc.......
    .....cccc9bbbbbbbbabbbcccc......
    .....ccccabbbbbbbb8bbbccccc.....
    ....cc8cababbbbbbb8bbbcccca9....
    ....c9cac8bbbbb8bbb8bb...c9c8...
    ....cc9c.b8bbbabbb8b8b....ca8c..
    ....c8cc.9bbbb9bbbbaba.....ac8..
    ....c9c8..bbbabbbbbba.......a98.
    ...cac8cc..bbb88bbbb.........89.
    ...accccc...b.....b.............
    ...cacccc..bb8...abb............
    ....cccc...b8b...bab............
    ...........9bb...b8b............
    ...........9ba...abb............
    ...........b9b...b8b............
    ..........babbb.b9bbb...........
    ..........bbbb8.bbbba...........
    ..........abbb8.bbb8b...........
    ..........bab9b.9bb8b...........
    ..........bb9bb.b99b8...........
    ..........bb9bb.bbbab...........
    `, SpriteKind.Enemy)
champignon_cracheur_de_spore = sprites.create(img`
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . 4 4 4 . . . . 
    . . . 4 4 4 4 4 . . . 
    . . 4 4 4 4 4 4 4 . . 
    . . 5 5 5 5 4 4 4 . . 
    . . 5 5 5 5 5 5 5 . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    `, SpriteKind.champignon)
champignon_cracheur_de_spore2 = sprites.create(img`
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . 4 4 4 . . . . 
    . . . 4 4 4 4 4 . . . 
    . . 4 4 4 4 4 4 4 . . 
    . . 5 5 5 5 4 4 4 . . 
    . . 5 5 5 5 5 5 5 . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    `, SpriteKind.champignon)
champignon_cracheur_de_spore3 = sprites.create(img`
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . 4 4 4 . . . . 
    . . . 4 4 4 4 4 . . . 
    . . 4 4 4 4 4 4 4 . . 
    . . 5 5 5 5 4 4 4 . . 
    . . 5 5 5 5 5 5 5 . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    `, SpriteKind.champignon)
champignon_cracheur_de_spore4 = sprites.create(img`
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . 4 4 4 . . . . 
    . . . 4 4 4 4 4 . . . 
    . . 4 4 4 4 4 4 4 . . 
    . . 5 5 5 5 4 4 4 . . 
    . . 5 5 5 5 5 5 5 . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    `, SpriteKind.champignon)
champignon_cracheur_de_spore5 = sprites.create(img`
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . . . . . . . . 
    . . . . 4 4 4 . . . . 
    . . . 4 4 4 4 4 . . . 
    . . 4 4 4 4 4 4 4 . . 
    . . 5 5 5 5 4 4 4 . . 
    . . 5 5 5 5 5 5 5 . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    . . . . 1 1 1 . . . . 
    `, SpriteKind.champignon)
tiles.placeOnRandomTile(champignon_cracheur_de_spore, sprites.castle.tileDarkGrass1)
tiles.placeOnRandomTile(champignon_cracheur_de_spore2, sprites.castle.tileDarkGrass1)
tiles.placeOnRandomTile(champignon_cracheur_de_spore3, sprites.castle.tileDarkGrass1)
tiles.placeOnRandomTile(champignon_cracheur_de_spore4, sprites.castle.tileDarkGrass1)
tiles.placeOnRandomTile(champignon_cracheur_de_spore5, sprites.castle.tileDarkGrass1)
tiles.placeOnTile(Arlem, tiles.getTileLocation(2, 2))
tiles.placeOnTile(Guardien_de_la_forêt, tiles.getTileLocation(29, 31))
controller.moveSprite(Arlem)
scene.cameraFollowSprite(Arlem)
info.setLife(10)
light.setBrightness(255)
